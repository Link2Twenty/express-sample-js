<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: testCrud.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: testCrud.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import BaseRoute from './base.js';

/**
 * @module routes:testCrud
 * @description Test CRUD route.
 */

export default class TestCrudRoute extends BaseRoute {
  constructor(router) {
    super('/test-crud', router);
  }

  init() {
    this.get('/test/:id', this.getAll);
    this.post('/test', this.testPost);
  }

  /**
   * @member
   *
   * @summary GET ./test-crud/test/:id
   * @desc Retrieves data for a test based on its ID.
   *
   * @param {string} req.params.id - The ID of the test to retrieve.
   *
   * @returns 200 - Success - Returns an object with 'data' and 'error' properties.
   * @returns 404 - Not Found - Test not found.
   * @returns 500 - Internal Server Error - An error occurred while processing the request.
   *
   * @example Request:
   * GET http://localhost:5000/test-crud/test/123
   *
   * @example Success response:
   * {
   *  "data": "string",
   *  "error": null
   * }
   *
   * @example Error response:
   * {
   *   "data": null,
   *   "error": "Not found."
   * }
   */
  getAll(req, res) {
    const { id } = req.params;

    if (Math.random() > 0.7) throw new Error('Test error', { cause: { status: 404, message: 'Not found.' } });

    res.json({ data: id, error: null });
  }

  /**
   * @member
   *
   * @summary POST ./test-crud/test
   * @desc Creates a new test.
   *
   * @param {string} req.body.id - The ID of the test to create.
   *
   * @returns 200 - Success - Returns an object with 'data' and 'error' properties.
   * @returns 404 - Not Found - Test not found.
   * @returns 500 - Internal Server Error - An error occurred while processing the request.
   *
   * @example Request:
   * POST http://localhost:5000/test-crud/test
   *
   * @example Request body:
   * {
   *  "id": "123"
   * }
   *
   * @example Success response:
   * {
   *  "data": "string",
   *  "error": null
   * }
   *
   * @example Error response:
   * {
   *   "data": null,
   *   "error": "Not found."
   * }
   */
  testPost(req, res) {
    const { id } = req.body || {};

    if (!id) throw new Error('Missing id from body', { cause: { status: 400 } });

    if (Math.random() > 0.7) throw new Error('Not found', { cause: { status: 404 } });

    res.json({ data: id, error: null });
  }
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="routes_apod.html">routes:apod</a></li><li><a href="routes_testCrud.html">routes:testCrud</a></li></ul><h3>Global</h3><ul><li><a href="global.html#init">init</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.4</a> on Sun Mar 30 2025 16:52:45 GMT+0100 (British Summer Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
